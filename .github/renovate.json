{
  "baseBranches": ["main"],
  "recreateWhen": "always",
  "prConcurrentLimit": 0,
  "prHourlyLimit": 0,
  "azure-pipelines": {
    "enabled": true
  },
  "extends": ["config:best-practices"],
  "customManagers": [
    {
        "customType": "regex",
        "managerFilePatterns": [
            "/(^|/)azure-pipelines.yml$/",
            "/(^|/)Dockerfile$/"
        ],
        "matchStrings": [
            "# renovate: datasource=(?<datasource>[a-zA-Z0-9-._]+?) depName=(?<depName>[^\\s]+?)(?: (?:lookupName|packageName)=(?<packageName>[^\\s]+?))?(?: versioning=(?<versioning>[^\\s]+?))?(?: extractVersion=(?<extractVersion>[^\\s]+?))?\\s+[A-Za-z0-9_]+?_VERSION\\s*:\\s*[\"\\']?(?<currentValue>.+?)[\"\\']?\\s",
            "# renovate: datasource=(?<datasource>[a-zA-Z0-9-._]+?) depName=(?<depName>[^\\s]+?)(?: (?:lookupName|packageName)=(?<packageName>[^\\s]+?))?(?: versioning=(?<versioning>[^\\s]+?))?(?: extractVersion=(?<extractVersion>[^\\s]+?))?\\n(?:ENV|ARG)\\s+[A-Za-z0-9_]+?_VERSION\\s?=\\s?[\"\\']?(?<currentValue>.+?)[\"\\']?\\s"
        ]
    },
    {
      "customType": "regex",
      "managerFilePatterns": [
        "**/Packages/manifest.json",
        "**/Packages/*/package.json"
      ],
      "matchStrings": [
        "\"(?<depName>(com.|org.nuget).*)\": \"(?<currentValue>\\d+.\\d+.\\d+.*)\""
      ],
      "datasourceTemplate": "unity3d-packages"
    },
    {
      "customType": "regex",
      "managerFilePatterns": ["/(^|/)renovate.json$/"],
      "matchStrings": [
        "https://apps.nextcloud.com/api/v1/platform/(?<currentValue>.*)/apps.json"
      ],
      "depNameTemplate": "nextcloud/server",
      "datasourceTemplate": "github-releases"
    }
  ],
  "packageRules": [
    {
      "matchDatasources": ["unity3d-packages"],
      "matchPackageNames": ["/^org.nuget/"],
      "registryUrls": ["https://unitynuget-registry.openupm.com/"]
    },
    {
      "matchDatasources": ["nextcloud"],
      "registryUrls": ["https://apps.nextcloud.com/api/v1/platform/31.0.7/apps.json"]
    }
  ]
}
